{"version":3,"sources":["../assets/scripts/catalog-admin.js"],"names":["$","document","ready","on","parent","fadeOut","remove","book_id","siblings","children","val","in_catalog","prop","ajax","url","ajaxurl","type","data","action","_ajax_nonce","PB_Publisher_Admin","publisherAdminNonce","success","length","html","catalog_updated","dismiss_notice","hide","insertAfter","fadeIn","error","jqXHR","textStatus","errorThrown","catalog_not_updated","jQuery"],"mappings":"aAIA,CAAA,SAAAA,CAAA,CAAA,CACAA,EAAAC,QAAA,EAAAC,KAAA,CAAA,UAAA,CACAF,EAAA,OAAA,EAAAG,EAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,UAAA,CACAH,EAAA,IAAA,EAAAI,MAAA,CAAA,UAAA,EAAAC,OAAA,CAAA,GAAA,CAAA,UAAA,CACAL,EAAA,IAAA,EAAAM,MAAA,EACA,CAFA,CAGA,CAJA,EAKAN,EAAA,kBAAA,EAAAG,EAAA,CAAA,QAAA,CAAA,UAAA,CACA,GAAAI,SAAAP,EAAA,IAAA,EAAAI,MAAA,CAAA,IAAA,EAAAI,QAAA,CAAA,IAAA,EAAAC,QAAA,CAAA,OAAA,EAAAC,GAAA,EAAA,CACA,GAAAC,YAAAX,EAAA,IAAA,EAAAY,IAAA,CAAA,SAAA,CAAA,CACAZ,EAAAa,IAAA,CAAA,CACAC,IAAAC,OADA,CAEAC,KAAA,MAFA,CAGAC,KAAA,CACAC,OAAA,uCADA,CAEAX,QAAAA,OAFA,CAGAI,WAAAA,UAHA,CAIAQ,YAAAC,mBAAAC,mBAJA,CAHA,CASAC,QAAA,kBAAA,CACA,GAAAtB,EAAA,UAAA,EAAAuB,MAAA,CAAA,CAAA,CAAA,CACAvB,EAAA,0DAAA,EAAAwB,IAAA,CAAA,cAAAJ,mBAAAK,eAAA,CAAA,6FAAA,CAAAL,mBAAAM,cAAA,CAAA,kBAAA,EAAAC,IAAA,GAAAC,WAAA,CAAA,UAAA,EAAAC,MAAA,CAAA,GAAA,CACA,CAFA,IAEA,CACA7B,EAAA,UAAA,EAAAK,OAAA,CAAA,GAAA,CAAA,UAAA,CACAL,EAAA,IAAA,EAAAM,MAAA,GACAN,EAAA,0DAAA,EAAAwB,IAAA,CAAA,cAAAJ,mBAAAK,eAAA,CAAA,6FAAA,CAAAL,mBAAAM,cAAA,CAAA,kBAAA,EAAAC,IAAA,GAAAC,WAAA,CAAA,UAAA,EAAAC,MAAA,CAAA,GAAA,CACA,CAHA,CAIA,CAEA,CAnBA,CAoBAC,MAAA,eAAAC,KAAA,CAAAC,UAAA,CAAAC,WAAA,CAAA,CACA,GAAAjC,EAAA,UAAA,EAAAuB,MAAA,CAAA,CAAA,CAAA,CACAvB,EAAA,wDAAA,EAAAwB,IAAA,CAAA,cAAAJ,mBAAAc,mBAAA,CAAA,6FAAA,CAAAd,mBAAAM,cAAA,CAAA,kBAAA,EAAAC,IAAA,GAAAC,WAAA,CAAA,UAAA,EAAAC,MAAA,CAAA,GAAA,CACA,CAFA,IAEA,CACA7B,EAAA,UAAA,EAAAK,OAAA,CAAA,GAAA,CAAA,UAAA,CACAL,EAAA,IAAA,EAAAM,MAAA,GACAN,EAAA,wDAAA,EAAAwB,IAAA,CAAA,cAAAJ,mBAAAc,mBAAA,CAAA,6FAAA,CAAAd,mBAAAM,cAAA,CAAA,kBAAA,EAAAC,IAAA,GAAAC,WAAA,CAAA,UAAA,EAAAC,MAAA,CAAA,GAAA,CACA,CAHA,CAIA,CACA,CA7BA,CAAA,CA+BA,CAlCA,CAmCA,CAzCA,CA0CA,CA3CA,EA2CAM,MA3CA","file":"catalog-admin.js","sourcesContent":["/**\n * catalog-admin.js\n */\n \n(function($) {\n\t$(document).ready(function() {\n\t\t$('.wrap').on('click', '.notice-dismiss', function() {\n\t\t\t$(this).parent('#message').fadeOut( 500, function() {\n\t\t\t\t$(this).remove();\n\t\t\t});\n\t\t});\n\t\t$('input.in-catalog').on('change', function() {\n\t\t\tvar book_id = $(this).parent('td').siblings('th').children('input').val();\n\t\t\tvar in_catalog = $(this).prop('checked');\n\t\t\t$.ajax({\n\t\t\t\turl: ajaxurl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\taction: 'opentextbook_publisher_update_catalog',\n\t\t\t\t\tbook_id: book_id,\n\t\t\t\t\tin_catalog: in_catalog,\n\t\t\t\t\t_ajax_nonce: PB_Publisher_Admin.publisherAdminNonce\n\t\t\t\t},\n\t\t\t\tsuccess: function(){\n\t\t\t\t\tif ( $('#message').length < 1 ) {\n\t\t\t\t\t\t$('<div id=\"message\" class=\"updated notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#message').fadeOut( 500, function() {\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t$('<div id=\"message\" class=\"updated notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n                },\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tif ( $('#message').length < 1 ) {\n\t\t\t\t\t\t$('<div id=\"message\" class=\"error notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_not_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#message').fadeOut( 500, function() {\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t$('<div id=\"message\" class=\"error notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_not_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n                }\n\t\t\t});\n\t\t});\n\t});\n}) (jQuery);\n"],"sourceRoot":"assets/scripts/"}