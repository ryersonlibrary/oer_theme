{"version":3,"sources":["../assets/scripts/main.js"],"names":["$","each","children","matchHeight","qs","length","qsbox","find","qsbtn","attr","bind","event","preventDefault","val","window","location","href","encodeURIComponent","submit","trigger","opentextbookxhr","opentextbookpreview","id","jQuery","getJSON","uuid","data","text","name","author","subjects","metadata","k","v","key","authorelement","value","image_url","bio","append","push","html","subj","join","cover_url","click","toggle"],"mappings":"aAAA,CAAA,SAAAA,CAAA,CAAA,CAEAA,EAAA,UAAA,EAAAC,IAAA,CAAA,UAAA,CACAD,EAAA,IAAA,EAAAE,QAAA,CAAA,OAAA,EAAAC,WAAA,EACA,CAFA,EAMA,GAAAC,IAAAJ,EAAA,eAAA,CAAA,CAEA,GAAAI,GAAAC,MAAA,CAAA,CAAA,CAAA,CACA,GAAAC,OAAAF,GAAAG,IAAA,CAAA,oBAAA,CAAA,CACA,GAAAC,OAAAJ,GAAAG,IAAA,CAAA,aAAA,CAAA,CAEAD,MAAAG,IAAA,CAAA,aAAA,CAAA,kDAAA,EACAD,MAAAE,IAAA,CAAA,OAAA,CAAA,SAAAC,KAAA,CAAA,CACAA,MAAAC,cAAA,GACA,GAAAN,MAAAO,GAAA,KAAA,EAAA,CAAA,CACAC,OAAAC,QAAA,CAAAC,IAAA,CAAA,oCAAAC,mBAAAX,MAAAO,GAAA,EAAA,CACA,CAFA,IAEA,CACAC,OAAAC,QAAA,CAAAC,IAAA,CAAA,WACA,CACA,CAPA,EAWAZ,GAAAc,MAAA,CAAA,SAAAP,KAAA,CAAA,CACAA,MAAAC,cAAA,GACAJ,MAAAW,OAAA,CAAA,OAAA,CACA,CAHA,CAIA,CAGA,GAAAC,iBAAA,IAAA,CAEA,QAAAC,oBAAA,CAAAC,EAAA,CAAA,CACAA,GAAAA,IAAA,KAAA,CACA,GAAAA,EAAA,CAAA,CACAF,gBAAAG,OAAAC,OAAA,CAAA,mBAAA,CAAA,CAAAC,KAAAH,EAAA,CAAA,CAAA,SAAAI,IAAA,CAAA,CACAH,OAAA,iBAAA,EAAAI,IAAA,CAAAD,KAAAE,IAAA,CAAA,KAAA,EACA,GAAAC,QAAA,EAAA,CACA,GAAAC,UAAA,EAAA,CACAP,OAAAtB,IAAA,CAAAyB,KAAAK,QAAA,CAAA,SAAAC,CAAA,CAAAC,CAAA,CAAA,CACA,GAAAA,EAAAC,GAAA,GAAA,uBAAA,CAAA,CACA,GAAAC,eAAA,oDAAAF,EAAAG,KAAA,CAAA,6BAAA,CACA,GAAAH,EAAAI,SAAA,CAAA,CACAF,cAAAA,cAAA,oCAAA,CAAAF,EAAAI,SAAA,CAAA,4BACA,CACA,GAAAJ,EAAAK,GAAA,CAAA,CACAH,cAAAA,cAAAF,EAAAK,GACA,CACAH,cAAAA,cAAA,YAAA,CACAZ,OAAA,UAAA,EAAAgB,MAAA,CAAAJ,aAAA,EACAZ,OAAA,yBAAA,EAAAI,IAAA,CAAAM,EAAAG,KAAA,CAAA,KAAA,CACA,CACA,GAAAH,EAAAC,GAAA,GAAA,YAAA,CAAA,CACAJ,SAAAU,IAAA,CAAAP,EAAAG,KAAA,CACA,CACA,GAAAH,EAAAC,GAAA,GAAA,yBAAA,CAAA,CACAX,OAAA,4BAAA,EAAAkB,IAAA,CAAA,MAAAR,EAAAG,KAAA,CAAA,MAAA,CACA,CACA,GAAAH,EAAAC,GAAA,GAAA,0BAAA,CAAA,CACAX,OAAA,QAAA,EAAAI,IAAA,CAAAM,EAAAG,KAAA,CACA,CACA,GAAAH,EAAAC,GAAA,GAAA,iBAAA,CAAA,CACAX,OAAA,iBAAA,EAAAI,IAAA,CAAAM,EAAAG,KAAA,CACA,CACA,GAAAH,EAAAC,GAAA,GAAA,SAAA,CAAA,CACAX,OAAA,OAAA,EAAAI,IAAA,CAAAM,EAAAG,KAAA,CACA,CACA,CA5BA,EA6BA,GAAAM,MAAAZ,SAAAa,IAAA,CAAA,GAAA,CAAA,CACApB,OAAA,WAAA,EAAAI,IAAA,CAAAe,IAAA,EACAnB,OAAA,oBAAA,EAAAd,IAAA,CAAA,KAAA,CAAAiB,KAAAkB,SAAA,EAEArB,OAAA,kCAAA,EAAAkB,IAAA,GACAlB,OAAA,eAAA,EAAAI,IAAA,GACAJ,OAAA,iBAAA,EAAAI,IAAA,GACAJ,OAAA,mBAAA,EAAAI,IAAA,EACA,CAzCA,CA0CA,CACA,CAEAJ,OAAA,8BAAA,EAAAsB,KAAA,CAAA,UAAA,CACAtB,OAAA,8BAAA,EAAAuB,MAAA,GACAvB,OAAA,kBAAA,EAAAuB,MAAA,EACA,CAHA,EAIAvB,OAAA,8BAAA,EAAAsB,KAAA,CAAA,UAAA,CACAtB,OAAA,eAAA,EAAAL,MAAA,EACA,CAFA,CAGA,CA1FA,EA0FAK,MA1FA","file":"main.js","sourcesContent":["(function($) {\n/***Pressbooks Default***/\t\n\t$('.catalog').each(function() {\n\t\t$(this).children('.book').matchHeight();\n\t});\n\t\n/** TEMP: Search Widget */\n\nvar qs = $('#quick-search');\n\nif (qs.length > 0) {\n  var qsbox = qs.find('#quick-search-term');\n  var qsbtn = qs.find('#browse-btn');\n    \n  qsbox.attr('placeholder','Search for textbooks by author, title or keyword');\n  qsbtn.bind('click',function(event) {\n    event.preventDefault();\n    if (qsbox.val() !== '') {\n      window.location.href = \"catalogue?op=setSearchTerm&value=\" + encodeURIComponent(qsbox.val());\n    } else {\n      window.location.href = \"catalogue\";\n    }\n  });\n  \n  // Replaced default search form submit behaviour with onclick processing above.\n  \n  qs.submit(function(event){\n    event.preventDefault();\n    qsbtn.trigger('click');\n  });\n}\n\n/***Opentextbook Preview.js***/\n\tvar opentextbookxhr = null;\n\n\tfunction opentextbookpreview(id){\n\t\tid=id||false;\n\t\tif(id){\n\t\t\topentextbookxhr = jQuery.getJSON( \"/single_item.json\",{uuid:id}, function(data){\n\t\t\t\tjQuery('#textbook-title').text(data.name+'---');\n\t\t\t\tvar author='';\n\t\t\t\tvar subjects=[];\n\t\t\t\tjQuery.each(data.metadata,function(k,v){\n\t\t\t\t\tif(v.key==='dc.contributor.author'){\n\t\t\t\t\t\tvar authorelement='<div class=\"author-info\"><h4 class=\"author-name\">'+v.value+'</h4><p class=\"author-bio\">';\n\t\t\t\t\t\tif(v.image_url){\n\t\t\t\t\t\t\tauthorelement=authorelement+'<img class=\"author-portrait\" src=\"'+v.image_url+'\" class=\"author-portrait\">';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(v.bio){\n\t\t\t\t\t\t\tauthorelement=authorelement+v.bio;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tauthorelement=authorelement+'</p></div>';\n\t\t\t\t\t\tjQuery('#authors').append(authorelement);\n\t\t\t\t\t\tjQuery('#textbook-title-authors').text(v.value+'---');\n\t\t\t\t\t}\n\t\t\t\t\tif(v.key==='dc.subject'){\n\t\t\t\t\t\tsubjects.push(v.value);\n\t\t\t\t\t}\n\t\t\t\t\tif(v.key==='dc.description.abstract'){\n\t\t\t\t\t\tjQuery('#textbook-description-info').html('<p>'+v.value+'</p>');\n\t\t\t\t\t}\n\t\t\t\t\tif(v.key==='LRMI.EducationalAudience'){\n\t\t\t\t\t\tjQuery('#level').text(v.value);\n\t\t\t\t\t}\n\t\t\t\t\tif(v.key==='dc.date.created'){\n\t\t\t\t\t\tjQuery('#date-published').text(v.value);\n\t\t\t\t\t}\n\t\t\t\t\tif(v.key==='dc.type'){\n\t\t\t\t\t\tjQuery('#type').text(v.value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar subj=subjects.join(\",\");\n\t\t\t\tjQuery('#subjects').text(subj);\n\t\t\t\tjQuery('#preview-bookcover').attr('src',data.cover_url);\n\t\t\t\t\n\t\t\t\tjQuery('#textbook-table-of-contents-info').html();\n\t\t\t\tjQuery('#adapted-from').text();\n\t\t\t\tjQuery('#adoption-count').text();\n\t\t\t\tjQuery('#peerreview-count').text();\n\t\t\t});\n\t\t}\n\t}\n\t\n\tjQuery('#site-header-menu-mobile-btn').click(function(){\n\t\tjQuery('#site-header-menu-mobile-btn').toggle();\n\t\tjQuery('#site-navigation').toggle();\n\t});\n\tjQuery('#site-header-menu-mobile-btn').click(function(){\n\t\tjQuery('#quick-search').submit();\n\t});\n})(jQuery);"],"sourceRoot":"assets/scripts/"}